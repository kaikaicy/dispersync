# Firebase Storage Security Rules
# Copy these rules to your Firebase Console > Storage > Rules

rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Allow authenticated users to upload images
    match /images/{allPaths=**} {
      allow read, write: if request.auth != null;
    }
    
    // Allow authenticated users to upload dispersal images
    match /dispersal-images/{allPaths=**} {
      allow read, write: if request.auth != null;
    }
    
    // Allow authenticated users to upload any file in the root
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}

# Alternative simpler rule (if the above doesn't work):
# rules_version = '2';
# service firebase.storage {
#   match /b/{bucket}/o {
#     match /{allPaths=**} {
#       allow read, write: if request.auth != null;
#     }
#   }
# }
